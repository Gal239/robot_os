<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo Scene Builder</title>

    <!-- Dream Factory CSS System -->
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/animations.css">

    <!-- Layouts -->
    <link rel="stylesheet" href="/layouts/app-header/app-header.css">
    <link rel="stylesheet" href="/layouts/main-view/main-view.css">

    <!-- Components -->
    <link rel="stylesheet" href="/components/chat-header/chat-header.css">
    <link rel="stylesheet" href="/components/new-dream-button/new-dream-button.css">
    <link rel="stylesheet" href="/components/theme-toggle/theme-toggle.css">
    <link rel="stylesheet" href="/components/tool-call/tool-call.css">
    <link rel="stylesheet" href="/components/script-viewer/script-viewer.css">
    <link rel="stylesheet" href="/components/camera-gallery/camera-gallery.css">
    <link rel="stylesheet" href="/components/scene-inspector/scene-inspector.css">
    <link rel="stylesheet" href="/components/metalog-viewer/metalog-viewer.css">
    <link rel="stylesheet" href="/components/status-indicator/status-indicator.css">
    <link rel="stylesheet" href="/components/message-bubble/message-bubble.css">
    <link rel="stylesheet" href="/components/chat-input/chat-input.css">
    <link rel="stylesheet" href="/components/typing-indicator/typing-indicator.css">
    <link rel="stylesheet" href="/components/chat-messages/chat-messages.css">
    <link rel="stylesheet" href="/components/chat-empty-state/chat-empty-state.css">

    <link rel="stylesheet" href="/layouts/chat-sidebar/chat-sidebar.css">

    <!-- Pages -->
    <link rel="stylesheet" href="/pages/scene-maker/scene-maker.css">

    <!-- LED Toggle Component -->
    <link rel="stylesheet" href="/components/led-toggle/led-toggle.css">

    <!-- Robot Icon Component -->
    <link rel="stylesheet" href="/components/robot-icon/robot-icon.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
</head>
<body>
    <!-- Scene Maker Page Container (populated by SceneMaker page) -->
    <div id="scene-maker-page"></div>

    <!-- Dream Factory JavaScript -->
    <!-- Theme must load first to apply initial theme -->
    <script src="/components/theme-toggle/theme-toggle.js"></script>

    <!-- Core API -->
    <script src="/js/api.js"></script>

    <!-- Shared Utilities (must load before components) -->
    <script src="/js/lava-lamp.js"></script>
    <script src="/js/utils.js" type="module"></script>

    <!-- Layouts -->
    <script src="/layouts/app-header/app-header.js"></script>
    <script src="/layouts/chat-sidebar/chat-sidebar.js"></script>
    <script src="/layouts/main-view/main-view.js"></script>

    <!-- Components -->
    <script src="/components/robot-icon/robot-icon.js"></script>
    <script src="/components/new-dream-button/new-dream-button.js"></script>
    <script src="/components/tool-call/tool-call.js"></script>
    <script src="/components/script-viewer/script-viewer.js"></script>
    <script src="/components/camera-gallery/camera-gallery.js"></script>
    <script src="/components/scene-inspector/scene-inspector.js"></script>
    <script src="/components/metalog-viewer/metalog-viewer.js"></script>
    <script src="/components/status-indicator/status-indicator.js"></script>

    <!-- Shared Utilities -->
    <script src="/js/app-utils.js"></script>

    <!-- Pages -->
    <script src="/pages/scene-maker/scene-maker.js"></script>

    <!-- Initialize Scene Maker Page Structure -->
    <script>
        // Render page structure (SceneMakerPage auto-initializes on DOM ready)
        if (typeof SceneMaker !== 'undefined') {
            SceneMaker.render('scene-maker-page');
            console.log('[Index] Scene Maker page structure rendered');
        } else {
            console.error('[Index] SceneMaker class not found!');
        }
    </script>

    <!-- Three.js for 3D Robot -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        // Initialize Feather icons when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            feather.replace();
        });
    </script>

    <script>
        console.log('Dream Factory - AI-Powered Simulation');
        console.log('Status: Initializing...');
    </script>
</body>
</html>
