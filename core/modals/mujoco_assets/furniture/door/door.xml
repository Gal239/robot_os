<?xml version="1.0" encoding="utf-8"?>
<!-- Door with handle - based on Robosuite research-tested design -->

<mujoco model="door">
  <asset>
    <!-- Wood texture for door -->
    <texture name="wood" type="2d" file="/home/gal-labs/PycharmProjects/echo_robot/stretch_mujoco/simulation_center/core/modals/mujoco_assets/furniture/desk/textures/wood0.png"/>
    <material name="wood_material" texture="wood" texrepeat="2 4" specular="0.1" shininess="0.1"/>

    <!-- Metal texture for handle -->
    <texture name="metal" type="2d" file="/home/gal-labs/PycharmProjects/echo_robot/stretch_mujoco/simulation_center/core/modals/mujoco_assets/furniture/desk/textures/metal0.png"/>
    <material name="metal_material" texture="metal" specular="0.9" shininess="0.5"/>
  </asset>

  <worldbody>
    <body name="door_frame" pos="0 0 1">
      <!-- Frame -->
      <geom name="frame_left" type="box" size="0.04 0.04 1.0" pos="-0.5 0 0" rgba="0.3 0.15 0.05 1"/>
      <geom name="frame_right" type="box" size="0.04 0.04 1.0" pos="0.5 0 0" rgba="0.3 0.15 0.05 1"/>
      <geom name="frame_top" type="box" size="0.5 0.04 0.08" pos="0 0 1.0" rgba="0.3 0.15 0.05 1"/>

      <!-- Wooden door -->
      <body name="door" pos="-0.46 0 0">
        <inertial pos="0.4 0 0" mass="8" diaginertia="1.3 1.0 0.3"/>

        <joint name="door_hinge" type="hinge" axis="0 0 1" range="0 1.57" damping="1" frictionloss="0.5" limited="true"/>

        <!-- Main wooden panel -->
        <geom name="door_panel" type="box" size="0.42 0.025 0.9" pos="0.42 0 0" material="wood_material"/>

        <!-- Wood grain details -->
        <geom name="panel_upper" type="box" size="0.35 0.03 0.35" pos="0.42 0.005 0.4" material="wood_material"/>
        <geom name="panel_lower" type="box" size="0.35 0.03 0.35" pos="0.42 0.005 -0.4" material="wood_material"/>

        <!-- Metal handle -->
        <body name="handle" pos="0.7 0 0">
          <!-- Metal knob -->
          <geom name="handle_knob" type="sphere" size="0.025" pos="0 0 0" rgba="0.85 0.85 0.85 1"/>
          <!-- Metal stem -->
          <geom name="handle_stem" type="cylinder" size="0.015 0.02" pos="0 0 0" rgba="0.8 0.8 0.8 1"/>
          <site name="door_handle" pos="0 0 0" size="0.03" rgba="0 0 1 0"/>
        </body>
      </body>
    </body>
  </worldbody>
</mujoco>